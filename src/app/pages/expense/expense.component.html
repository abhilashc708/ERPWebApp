<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <button (click)="toggleSidebar()" class="close-btn">✖</button>
  <h2>📊 Dashboard</h2>
  <ul>
    <li><a routerLink="/dashboard">🏠 Home</a></li>
    <li><a routerLink="/users">👥 Users</a></li>
    <li><a routerLink="/shops">🏬 Shops</a></li>
    <li><a routerLink="/category">📂 Item Category</a></li>
    <li><a routerLink="/items">📦 Items</a></li>
    <li><a routerLink="/bills">🧾 Bills</a></li>
    <li><a routerLink="/expense-category">🏷️ Cost Category</a></li>
    <li><a routerLink="/expense">💰 Expense</a></li>
    <li><a routerLink="/reports">📊 Reports</a></li>
    <li><a>⚙ Settings</a></li>
    <li><a routerLink="/logout">🚪 Logout</a></li>
  </ul>
</div>

<!-- Main Content -->
<div class="main-content">
  <!-- Toggle Button for Smaller Screens -->
  <button (click)="toggleSidebar()" class="menu-btn">☰</button>
  <div class="users-page">
    <h1>💰 Expense Management</h1>

    <!-- Search Bar -->
    <div class="top-controls">
      <button (click)="openAddExpenseDialog()" class="add-btn">➕ Add New Item</button>
      <div class="search-container">
        <input placeholder="🔍 Search expenses..." type="text"/>
        <i class="fa fa-search search-icon"></i>
      </div>
    </div>

    <!-- User Table -->
    <div class="table-container">
      <table>
        <thead>
        <tr>
          <th>Expense Bill Code</th>
          <th>Expense Name</th>
          <th>Cost</th>
          <th>PaymentMethod</th>
          <th>Shop</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of expenses()">
          <td>{{ item.expenseBillCode }}</td>
          <td>{{ item.expenseItem.expenseItemName }}</td>
          <td>{{ item.rate }}</td>
          <td>{{ item.paymentMethod }}</td>
          <td>{{ item.shop.name }}</td>
          <td>
            <button (click)="openEditDialog(item)" class="edit-btn">✏ Edit</button>
            <button (click)="openDeleteDialog(item, $event)" class="delete-btn">🗑 Delete</button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Pagination -->
    <div class="pagination">
      <button (click)="prevPage()" [disabled]="currentPage === 1">⬅ Prev</button>
      <span>Page {{ currentPage }} of {{ totalPages() }}</span>
      <button (click)="nextPage()" [disabled]="currentPage >= totalPages()">Next ➡</button>
    </div>
  </div>
</div>

