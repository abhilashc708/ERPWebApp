<div class="sidebar" id="sidebar">
  <button (click)="toggleSidebar()" class="close-btn">âœ–</button>
  <h2>ğŸ“Š Dashboard</h2>
  <ul>
    <li><a routerLink="/dashboard">ğŸ  Home</a></li>
    <li><a routerLink="/users">ğŸ‘¥ Users</a></li>
    <li><a routerLink="/shops">ğŸ¬ Shops</a></li>
    <li><a routerLink="/category">ğŸ“‚ Item Category</a></li>
    <li><a routerLink="/items">ğŸ“¦ Items</a></li>
    <li><a routerLink="/bills">ğŸ§¾ Bills</a></li>
    <li><a routerLink="/expense-category">ğŸ·ï¸ Cost Category</a></li>
    <li><a routerLink="/expense">ğŸ’° Expense</a></li>
    <li><a routerLink="/reports">ğŸ“Š Reports</a></li>
    <li><a>âš™ Settings</a></li>
    <li><a routerLink="/logout">ğŸšª Logout</a></li>
  </ul>
</div>

<!-- Main Content -->
<div class="main-content">
  <button (click)="toggleSidebar()" class="menu-btn">â˜°</button>
  <!-- Reports Page -->
  <div class="reports-container">
    <div class="users-page">
      <h2>ğŸ“Š Business Reports</h2>
    </div>
    <!-- Date Range & Filter -->
    <div class="filter-section">
      <label>ğŸ“… From:</label>
      <input [(ngModel)]="startDate" type="date">
      <label>ğŸ“… To:</label>
      <input [(ngModel)]="endDate" type="date">
      <button (click)="fetchReports()">ğŸ” Filter</button>
    </div>

    <!-- Summary Cards -->
    <div class="summary-cards">
      <div class="card sales">
        <h3>Total Sales</h3>
        <p>â‚¹{{ totalSales }}</p>
      </div>
      <div class="card expenses">
        <h3>Total Expenses</h3>
        <p>â‚¹{{ totalExpenses }}</p>
      </div>
      <div class="card profit">
        <h3>Net Profit</h3>
        <p>â‚¹{{ totalProfit }}</p>
      </div>
    </div>

    <!-- Data Table -->
    <div class="report-table">
      <h2>ğŸ“„ Detailed Transactions</h2>
      <table>
        <thead>
        <tr>
          <th>Date</th>
          <th>Bill Code</th>
          <th>Total Amount</th>
          <th>Payment Method</th>
          <th>Branch</th>
          <th>Type</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <tr *ngFor="let record of displayedRecords">
          <td>{{ record.billingDate | date: 'dd-MMM-yyyy' }}</td>
          <td>{{ record.billCode }}</td>
          <td>{{ record.totalAmount }}</td>
          <td>{{ record.paymentMethod }}</td>
          <td>{{ record.branch }}</td>
          <td>
  <span [ngClass]="{'text-green': record.type === 'Sales', 'text-red': record.type === 'Expense'}">
    {{ record.type }}
  </span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Charts -->
    <div class="chart-section">
      <div class="chart-box">
        <h2>ğŸ“Š Sales vs Expenses</h2>
        <canvas id="salesExpenseChart"></canvas>
      </div>
      <div class="chart-box">
        <h2>ğŸ“Š Category Breakdown</h2>
        <canvas id="categoryChart"></canvas>
      </div>
    </div>

    <!-- Export Buttons -->
    <div class="export-buttons">
      <button (click)="exportPDF()">ğŸ“„ Export PDF</button>
      <button (click)="exportCSV()">ğŸ“Š Export CSV</button>
    </div>


  </div>
</div>
